(function(){"use strict";var e={7551:function(e,t,o){var n=o(5130),r=o(6768);const a={id:"app"},l={key:0},i={key:1};function s(e,t,o,n,s,u){const d=(0,r.g2)("router-link"),c=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",a,[s.isLoggedIn?((0,r.uX)(),(0,r.CE)("nav",l,[(0,r.Lk)("ul",null,[(0,r.Lk)("li",null,[(0,r.bF)(d,{to:"/protected"},{default:(0,r.k6)((()=>[(0,r.eW)("Protected")])),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(d,{to:"/add-item"},{default:(0,r.k6)((()=>[(0,r.eW)("Add Item")])),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(d,{to:"/get-items"},{default:(0,r.k6)((()=>[(0,r.eW)("Get Items")])),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(d,{to:"/update-item"},{default:(0,r.k6)((()=>[(0,r.eW)("Update Item")])),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(d,{to:"/delete-item"},{default:(0,r.k6)((()=>[(0,r.eW)("Delete Item")])),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(d,{to:"/user-management"},{default:(0,r.k6)((()=>[(0,r.eW)("User Manegement")])),_:1})]),(0,r.Lk)("li",null,[(0,r.Lk)("a",{href:"#",onClick:t[0]||(t[0]=(...e)=>u.logout&&u.logout(...e))},"Logout")])])])):((0,r.uX)(),(0,r.CE)("nav",i,[(0,r.Lk)("ul",null,[(0,r.Lk)("li",null,[(0,r.bF)(d,{to:"/register"},{default:(0,r.k6)((()=>[(0,r.eW)("Register")])),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(d,{to:"/login"},{default:(0,r.k6)((()=>[(0,r.eW)("Login")])),_:1})])])])),(0,r.bF)(c)])}o(4114);var u={name:"App",data(){return{isLoggedIn:!!localStorage.getItem("token")}},watch:{$route(){this.isLoggedIn=!!localStorage.getItem("token")}},methods:{logout(){localStorage.removeItem("token"),this.isLoggedIn=!1,this.$router.push("/login")}}},d=o(1241);const c=(0,d.A)(u,[["render",s]]);var m=c,p=o(1387);const h=(0,r.Lk)("h2",null,"Add Item",-1),g=(0,r.Lk)("button",{type:"submit"},"Add Item",-1);function k(e,t,o,a,l,i){return(0,r.uX)(),(0,r.CE)("div",null,[h,(0,r.Lk)("form",{onSubmit:t[3]||(t[3]=(0,n.D$)(((...e)=>i.addItem&&i.addItem(...e)),["prevent"]))},[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.text=e),placeholder:"Text"},null,512),[[n.Jo,l.text]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.embedding=e),placeholder:"Embedding (comma separated)"},null,512),[[n.Jo,l.embedding]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.vector=e),placeholder:"Vector (comma separated)"},null,512),[[n.Jo,l.vector]]),g],32)])}var f=o(4373),b={data(){return{text:"",embedding:"",vector:""}},methods:{async addItem(){try{const e=localStorage.getItem("token");await f.A.post("http://127.0.0.1:5000/items",{text:this.text,embedding:this.embedding.split(",").map(Number),vector:this.vector.split(",").map(Number)},{headers:{Authorization:`Bearer ${e}`}}),alert("Item added!")}catch(e){console.error("Error adding item:",e),alert("Failed to add item.")}}}};const v=(0,d.A)(b,[["render",k]]);var L=v,y=o(4232);const I=(0,r.Lk)("h2",null,"Items",-1),w={key:0};function E(e,t,o,n,a,l){return(0,r.uX)(),(0,r.CE)("div",null,[I,(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.fetchItems&&l.fetchItems(...e))},"Fetch Items"),a.items?((0,r.uX)(),(0,r.CE)("div",w,[(0,r.Lk)("pre",null,(0,y.v_)(a.items),1)])):(0,r.Q3)("",!0)])}var C={data(){return{items:null}},methods:{async fetchItems(){try{const e=localStorage.getItem("token"),t=await f.A.get("http://127.0.0.1:5000/items",{headers:{Authorization:`Bearer ${e}`}});this.items=t.data}catch(e){console.error("Error fetching items:",e),alert("Failed to fetch items.")}}}};const A=(0,d.A)(C,[["render",E]]);var S=A;const U=(0,r.Lk)("h2",null,"Update Item",-1),$=(0,r.Lk)("button",{type:"submit"},"Update Item",-1);function _(e,t,o,a,l,i){return(0,r.uX)(),(0,r.CE)("div",null,[U,(0,r.Lk)("form",{onSubmit:t[4]||(t[4]=(0,n.D$)(((...e)=>i.updateItem&&i.updateItem(...e)),["prevent"]))},[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.id=e),placeholder:"Item ID"},null,512),[[n.Jo,l.id]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.text=e),placeholder:"Text"},null,512),[[n.Jo,l.text]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.embedding=e),placeholder:"Embedding (comma separated)"},null,512),[[n.Jo,l.embedding]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.vector=e),placeholder:"Vector (comma separated)"},null,512),[[n.Jo,l.vector]]),$],32)])}var P={data(){return{id:"",text:"",embedding:"",vector:""}},methods:{async updateItem(){try{const e=localStorage.getItem("token");await f.A.put(`http://127.0.0.1:5000/items/${this.id}`,{text:this.text,embedding:this.embedding.split(",").map(Number),vector:this.vector.split(",").map(Number)},{headers:{Authorization:`Bearer ${e}`}}),alert("Item updated!")}catch(e){console.error("Error updating item:",e),alert("Failed to update item.")}}}};const x=(0,d.A)(P,[["render",_]]);var F=x;const D=(0,r.Lk)("h2",null,"Delete Item",-1),O=(0,r.Lk)("button",{type:"submit"},"Delete Item",-1);function J(e,t,o,a,l,i){return(0,r.uX)(),(0,r.CE)("div",null,[D,(0,r.Lk)("form",{onSubmit:t[1]||(t[1]=(0,n.D$)(((...e)=>i.deleteItem&&i.deleteItem(...e)),["prevent"]))},[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.id=e),placeholder:"Item ID"},null,512),[[n.Jo,l.id]]),O],32)])}var T={data(){return{id:""}},methods:{async deleteItem(){try{const e=localStorage.getItem("token");await f.A.delete(`http://127.0.0.1:5000/items/${this.id}`,{headers:{Authorization:`Bearer ${e}`}}),alert("Item deleted!")}catch(e){console.error("Error deleting item:",e),alert("Failed to delete item.")}}}};const X=(0,d.A)(T,[["render",J]]);var j=X;const V=(0,r.Lk)("h2",null,"Register",-1),R=(0,r.Lk)("button",{type:"submit"},"Register",-1);function z(e,t,o,a,l,i){return(0,r.uX)(),(0,r.CE)("div",null,[V,(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,n.D$)(((...e)=>i.register&&i.register(...e)),["prevent"]))},[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.username=e),placeholder:"Username"},null,512),[[n.Jo,l.username]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.password=e),type:"password",placeholder:"Password"},null,512),[[n.Jo,l.password]]),R],32)])}var B={data(){return{username:"",password:""}},methods:{async register(){try{await f.A.post("http://127.0.0.1:5000/register",{username:this.username,password:this.password}),alert("Registration successful!")}catch(e){console.error("Registration error:",e),alert("Registration failed.")}}}};const W=(0,d.A)(B,[["render",z]]);var N=W;const M=(0,r.Lk)("h2",null,"Login",-1),G=(0,r.Lk)("label",{for:"username"},"Username:",-1),Q=(0,r.Lk)("label",{for:"password"},"Password:",-1),K=(0,r.Lk)("button",{type:"submit"},"Login",-1);function q(e,t,o,a,l,i){return(0,r.uX)(),(0,r.CE)("div",null,[M,(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,n.D$)(((...e)=>i.login&&i.login(...e)),["prevent"]))},[(0,r.Lk)("div",null,[G,(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.username=e),type:"text",id:"username"},null,512),[[n.Jo,l.username]])]),(0,r.Lk)("div",null,[Q,(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.password=e),type:"password",id:"password"},null,512),[[n.Jo,l.password]])]),K],32)])}var H={data(){return{username:"",password:""}},methods:{async login(){const e=await fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:this.password})});if(e.ok){const t=await e.json();localStorage.setItem("token",t.access_token),this.$router.push("/protected")}else alert("Login failed")}}};const Y=(0,d.A)(H,[["render",q]]);var Z=Y;const ee=(0,r.Lk)("h2",null,"Protected Resource",-1),te={key:0};function oe(e,t,o,n,a,l){return(0,r.uX)(),(0,r.CE)("div",null,[ee,(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.fetchProtectedData&&l.fetchProtectedData(...e))},"Fetch Protected Data"),a.data?((0,r.uX)(),(0,r.CE)("div",te,[(0,r.Lk)("pre",null,(0,y.v_)(a.data),1)])):(0,r.Q3)("",!0)])}var ne={data(){return{data:null}},created(){localStorage.getItem("token")||this.$router.push("/login")},methods:{async fetchProtectedData(){const e=localStorage.getItem("token"),t=await fetch("/protected",{method:"GET",headers:{Authorization:`Bearer ${e}`}});t.ok?this.data=await t.json():alert("Failed to fetch protected data.")}}};const re=(0,d.A)(ne,[["render",oe]]);var ae=re;const le=(0,r.Lk)("h2",null,"User Management",-1),ie=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"ID"),(0,r.Lk)("th",null,"Username"),(0,r.Lk)("th",null,"Role"),(0,r.Lk)("th",null,"Actions")])],-1),se=["onClick"],ue=["onClick"],de=["onClick"];function ce(e,t,o,n,a,l){return(0,r.uX)(),(0,r.CE)("div",null,[le,(0,r.Lk)("table",null,[ie,(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.users,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id},[(0,r.Lk)("td",null,(0,y.v_)(e.id),1),(0,r.Lk)("td",null,(0,y.v_)(e.username),1),(0,r.Lk)("td",null,(0,y.v_)(e.role),1),(0,r.Lk)("td",null,[(0,r.Lk)("button",{onClick:t=>l.changeRole(e.id)},"Change Role",8,se),(0,r.Lk)("button",{onClick:t=>l.changePassword(e.id)},"Change Password",8,ue),(0,r.Lk)("button",{onClick:t=>l.deleteUser(e.id)},"Delete",8,de)])])))),128))])])])}var me={data(){return{users:[]}},methods:{async fetchUsers(){const e=await fetch("/users",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});this.users=await e.json()},async changeRole(e){const t=prompt("Enter new role (user/admin):");await fetch(`/users/${e}/role`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({role:t})}),this.fetchUsers()},async changePassword(e){const t=prompt("Enter new password:");await fetch(`/users/${e}/password`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({password:t})}),alert("Password updated!")},async deleteUser(e){confirm("Are you sure you want to delete this user?")&&(await fetch(`/users/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),this.fetchUsers())}},mounted(){this.fetchUsers()}};const pe=(0,d.A)(me,[["render",ce]]);var he=pe;function ge(e,t,o){localStorage.getItem("token")?o():o("/login")}const ke=(0,p.aE)({history:(0,p.LA)(),routes:[{path:"/",redirect:"/login"},{path:"/register",component:N},{path:"/login",component:Z},{path:"/protected",component:ae,beforeEnter:ge},{path:"/add-item",component:L,beforeEnter:ge},{path:"/get-items",component:S,beforeEnter:ge},{path:"/update-item",component:F,beforeEnter:ge},{path:"/delete-item",component:j,beforeEnter:ge},{path:"/user-management",component:he,beforeEnter:ge}]});var fe=ke;(0,n.Ef)(m).use(fe).mount("#app")}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,o),a.exports}o.m=e,function(){var e=[];o.O=function(t,n,r,a){if(!n){var l=1/0;for(d=0;d<e.length;d++){n=e[d][0],r=e[d][1],a=e[d][2];for(var i=!0,s=0;s<n.length;s++)(!1&a||l>=a)&&Object.keys(o.O).every((function(e){return o.O[e](n[s])}))?n.splice(s--,1):(i=!1,a<l&&(l=a));if(i){e.splice(d--,1);var u=r();void 0!==u&&(t=u)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[n,r,a]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,a,l=n[0],i=n[1],s=n[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(r in i)o.o(i,r)&&(o.m[r]=i[r]);if(s)var d=s(o)}for(t&&t(n);u<l.length;u++)a=l[u],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(d)},n=self["webpackChunkrag_system_frontend"]=self["webpackChunkrag_system_frontend"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[504],(function(){return o(7551)}));n=o.O(n)})();
//# sourceMappingURL=app.5d0a2463.js.map